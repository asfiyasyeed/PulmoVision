<!DOCTYPE html>
<html>
<head>
    <title>Pneumonia Detector</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Glowing animated heading */
        .animated-heading {
            animation: glow 1.5s ease-in-out infinite alternate;
            text-align: center;
        }
        @keyframes glow {
            from { text-shadow: 0 0 5px #2a9d8f; }
            to { text-shadow: 0 0 20px #2a9d8f; }
        }

        /* Optional: smooth image shadow hover */
        .img-shadow:hover {
            box-shadow: 0 0 25px #2a9d8f;
            transition: 0.3s;
        }
    </style>
</head>

<body style="background-color: #242424;">

    <!-- Top accent line -->
    <hr style="margin-top: 0px; opacity: 1;" color="#2a9d8f" size="10" width="100%"/>

    <!-- Title -->
    <h1 class="animated-heading" style="color: #e0e0e0; margin-top: 80px;">
        Pneumonia <span style="color: #2a9d8f;">Detection</span> and Classification using
        <span style="color: #2a9d8f;">Deep Learning</span>
    </h1>

    <!-- Description -->
    <p style="color: #ccc; text-align: center; margin-top: 15px;">
        Upload a chest X-ray image to automatically detect pneumonia using a deep learning model.
    </p>

    <!-- Sample Image -->
    <div class="d-flex justify-content-center mt-4">
        <img src="/static/Images/IM-0001-0001.jpeg  "
             alt="Sample Chest X-ray"
             class="img-fluid rounded shadow img-shadow"
             style="max-width: 350px;">
    </div>

    <p style="color: #441010; margin-top: 10px; font-weight: bold; text-align: center;">
        Sample Chest X-ray
    </p>

    <!-- Upload Card -->
    <div class="d-flex justify-content-center mt-5">
        <div class="card p-4" style="width: 420px; background-color: #1f1f1f; border-radius: 15px; box-shadow: 0 0 20px rgba(0,0,0,0.5);">

            <form class="text-center" method="post" enctype="multipart/form-data">
                <h4 style="color: #2a9d8f; margin-bottom: 20px;">
                    Upload Chest X-ray
                </h4>

                <!-- File input -->
                <input
                    class="form-control"
                    style="background-color: white;"
                    type="file"
                    name="imagefile"
                    id="imagefile"
                    required>

                <!-- Preview of selected image -->
                <div class="d-flex justify-content-center mt-3">
                    <img id="preview" src="" alt="" style="max-width: 250px; display: none; border-radius: 10px;">
                </div>

                <!-- Submit button -->
                <input
                    class="btn btn-primary mt-4"
                    style="background-color: #2a9d8f; border: none; width: 100%; transition: 0.3s;"
                    type="submit"
                    value="Analyze X-ray"
                    onmouseover="this.style.backgroundColor='#3cb3ac'; this.style.transform='scale(1.05)';"
                    onmouseout="this.style.backgroundColor='#2a9d8f'; this.style.transform='scale(1)';">
            </form>

            <!-- Loading spinner -->
            <div id="loading" class="text-center mt-3" style="display: none;">
                <div class="spinner-border text-light" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p style="color: #ccc;">Analyzing Image...</p>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center mt-5 mb-3" style="color: #777;">
        â€¢ Pneumonia Detection using Deep Learning
    </footer>

    <!-- Optional Flask output (uncomment when Flask is running) -->
    <!--
    {% if prediction %}
        <h2 class="text-center" style="color: #fff;">
            Prediction Result: {{ prediction }}
        </h2>
    {% endif %}

    {% if imagePath %}
        <div class="d-flex justify-content-center">
            <img src="{{ imagePath }}" height="224" width="224">
        </div>
    {% endif %}
    -->

    <!-- Scripts -->
    <script>
        // Image preview
        document.getElementById('imagefile').addEventListener('change', function(event){
            const preview = document.getElementById('preview');
            preview.src = URL.createObjectURL(event.target.files[0]);
            preview.style.display = 'block';
        });

        // Show loading spinner on submit
        document.querySelector('form').addEventListener('submit', function(){
            document.getElementById('loading').style.display = 'block';
        });
    </script>

</body>
</html>
